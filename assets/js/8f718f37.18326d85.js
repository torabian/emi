"use strict";(self.webpackChunkemi_web=self.webpackChunkemi_web||[]).push([[65],{4296:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"js/emi-headers-class","title":"Emi Headers class generator","description":"In the context of http requests, there is always request and response headers, which is a key pair","source":"@site/docs/js/emi-headers-class.mdx","sourceDirName":"js","slug":"/js/emi-headers-class","permalink":"/emi/docs/js/emi-headers-class","draft":false,"unlisted":false,"editUrl":"https://github.com/torabian/emi/tree/main/emi-web/docs/js/emi-headers-class.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Javascript(Type?) Compiler","permalink":"/emi/docs/js/js-intro"},"next":{"title":"Javascript object generation","permalink":"/emi/docs/js/emi-object"}}');var r=t(4848),a=t(8453);const i={sidebar_position:3},l="Emi Headers class generator",o={},c=[];function u(e){const n={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"emi-headers-class-generator",children:"Emi Headers class generator"})}),"\n",(0,r.jsx)(n.p,{children:"In the context of http requests, there is always request and response headers, which is a key pair\ndefinition. Modern javascript standard is using Headers class, and Emi generates the header classes,\nby extending that class, and adding extra functions."}),"\n",(0,r.jsx)(n.p,{children:"Example schema:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"- name: accept-language\n  type: string\n- name: authroization\n  type: string\n- name: cache-time\n  type: int64\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"Would generate the following code:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"/**\n * SampleHeaders class\n * Auto-generated from EmiAction\n */\nexport class SampleHeaders extends Headers {\n  /**\n   * \n   * @returns { string | null }\n   */\n  getAcceptLanguage () {\n    return this.#getTyped('accept-language', 'string | null');\n  }\n  /**\n   * \n   * @param { string | null } value\n   */\n\tsetAcceptLanguage (value) {\n\tif (value !== null) {\n\t\tthis.set('accept-language', value);\n\t}\n    return this;\n  }\n  /**\n   * \n   * @returns { string | null }\n   */\n  getAuthroization () {\n    return this.#getTyped('authroization', 'string | null');\n  }\n  /**\n   * \n   * @param { string | null } value\n   */\n\tsetAuthroization (value) {\n\tif (value !== null) {\n\t\tthis.set('authroization', value);\n\t}\n    return this;\n  }\n  /**\n   * \n   * @returns { number | null }\n   */\n  getCacheTime () {\n    return this.#getTyped('cache-time', 'number | null');\n  }\n  /**\n   * \n   * @param { number | null } value\n   */\n\tsetCacheTime (value) {\n\tif (value !== null) {\n\t\tthis.set('cache-time', value);\n\t}\n    return this;\n  }\n  // the getters generated by us would be casting types before returning.\n  // you still can use .get function to get the string value.\n  // eslint-disable-next-line no-unused-private-class-members\n  #getTyped(key, type) {\n    const val = this.get(key);\n    if (val == null) return null;\n    const t = type.toLowerCase();\n    if (t.includes('number')) return Number(val);\n    if (t.includes('bool')) return val === 'true';\n    return val; // string or any other fallback\n  }\n  /**\n   * @returns {Record<string, string>}\n   * Converts Headers to plain object\n   */\n  toObject() {\n    return Object.fromEntries(this.entries());\n  }\n}\n\n  \n  function isPlausibleObject(v: any) { return false }\n  \n"})})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var s=t(6540);const r={},a=s.createContext(r);function i(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);